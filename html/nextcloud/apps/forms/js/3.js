(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{193:function(t,n,e){t.exports=e.p+"app.svg?acc601d7eb0da0d52a9655926468f275"},194:function(t,n,e){var o=e(205);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(5).default)("acc894ae",o,!1,{})},195:function(t,n,e){var o=e(208);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(5).default)("49325d1b",o,!1,{})},204:function(t,n,e){"use strict";var o=e(194);e.n(o).a},205:function(t,n,e){(t.exports=e(4)(!1)).push([t.i,".table-row {\n  width: 100%;\n  padding-left: 15px;\n  padding-right: 15px;\n  line-height: 2em;\n  transition: background-color 0.3s ease;\n  background-color: var(--color-main-background);\n  min-height: 4em;\n  border-bottom: 1px solid var(--color-border);\n}\n.table-row.table-header .name, .table-row.table-header .description {\n    padding-left: 52px;\n}\n.table-row.table-header .owner {\n    padding-left: 6px;\n}\n.table-row.table-body:hover, .table-row.table-body:focus, .table-row.table-body:active, .table-row.table-body.mouseOver {\n    transition: background-color 0.3s ease;\n    background-color: var(--color-background-dark);\n}\n.table-row.table-body .icon-more {\n    right: 14px;\n    opacity: 0.3;\n    cursor: pointer;\n    height: 44px;\n    width: 44px;\n}\n.table-row.table-body .symbol {\n    padding: 2px;\n}\n.table-row.table-header {\n    opacity: 0.5;\n}\n.wrapper {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex-grow: 0;\n}\n.name {\n  width: 150px;\n}\n.description {\n  width: 150px;\n  opacity: 0.5;\n}\n.name, .description {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.actions {\n  width: 44px;\n  position: relative;\n  overflow: initial;\n}\n.access {\n  width: 44px;\n}\n.owner {\n  width: 140px;\n}\n.created {\n  width: 120px;\n}\n.expiry {\n  width: 120px;\n}\n.expiry.expired {\n    color: red;\n}\n.group-1, .group-1-1 {\n  flex-grow: 1;\n}\n.group-1-1 {\n  flex-direction: column;\n  width: 150px;\n}\n.group-1-1 > div {\n    width: 100%;\n}\n@media all and (max-width: 787px) {\n.group-1 {\n    width: 238px;\n}\n.group-2-1, .group-2-2 {\n    flex-direction: column;\n}\n.created {\n    width: 120px;\n}\n.expiry, .participants {\n    width: 120px;\n}\n}\n@media all and (max-width: 648px) {\n.table-row {\n    padding: 0;\n}\n.group-2-1 {\n    display: none;\n}\n}\n@media all and (max-width: 528px) {\n.group-2 {\n    display: none;\n}\n}\n.thumbnail {\n  width: 44px;\n  height: 44px;\n  padding-right: 4px;\n  font-size: 0;\n  background-color: var(--color-text-light);\n}\n.thumbnail.dateform {\n    mask-image: var(--icon-calendar-000) no-repeat 50% 50%;\n    -webkit-mask: var(--icon-calendar-000) no-repeat 50% 50%;\n    mask-size: 16px;\n}\n.thumbnail.textform {\n    mask-image: var(--icon-organization-000) no-repeat 50% 50%;\n    -webkit-mask: var(--icon-organization-000) no-repeat 50% 50%;\n    mask-size: 16px;\n}\n.thumbnail.expired {\n    background-color: var(--color-background-darker);\n}\n.thumbnail.access {\n    display: inherit;\n}\n.thumbnail.access.hidden {\n      mask-image: var(--icon-password-000) no-repeat 50% 50%;\n      -webkit-mask: var(--icon-password-000) no-repeat 50% 50%;\n      mask-size: 16px;\n}\n.thumbnail.access.public {\n      mask-image: var(--icon-link-000) no-repeat 50% 50%;\n      -webkit-mask: var(--icon-link-000) no-repeat 50% 50%;\n      mask-size: 16px;\n}\n.thumbnail.access.select {\n      mask-image: var(--icon-share-000) no-repeat 50% 50%;\n      -webkit-mask: var(--icon-share-000) no-repeat 50% 50%;\n      mask-size: 16px;\n}\n.thumbnail.access.registered {\n      mask-image: var(--icon-group-000) no-repeat 50% 50%;\n      -webkit-mask: var(--icon-group-000) no-repeat 50% 50%;\n      mask-size: 16px;\n}\n.icon-voted {\n  background-image: var(--icon-checkmark-fff);\n}\n.app-navigation-entry-utils-counter {\n  padding-right: 0 !important;\n  overflow: hidden;\n  text-align: right;\n  font-size: 9pt;\n  line-height: 44px;\n  padding: 0 12px;\n}\n.app-navigation-entry-utils-counter.highlighted {\n    padding: 0;\n    text-align: center;\n}\n.app-navigation-entry-utils-counter.highlighted span {\n      padding: 2px 5px;\n      border-radius: 10px;\n      background-color: var(--color-primary);\n      color: var(--color-primary-text);\n}\n.symbol.icon-voted {\n  position: absolute;\n  left: 11px;\n  top: 16px;\n  background-size: 0;\n  min-width: 8px;\n  min-height: 8px;\n  background-color: var(--color-success);\n  border-radius: 50%;\n}\n",""])},207:function(t,n,e){"use strict";var o=e(195);e.n(o).a},208:function(t,n,e){n=t.exports=e(4)(!1);var o=e(192)(e(193));n.push([t.i,".table {\n  width: 100%;\n  margin-top: 45px;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  flex-wrap: nowrap;\n}\n#emptycontent .icon-forms {\n  background-color: black;\n  -webkit-mask: url("+o+") no-repeat 50% 50%;\n  mask: url("+o+") no-repeat 50% 50%;\n}\n",""])},211:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",[e("button",{staticClass:"button btn primary",on:{click:t.download}},[e("span",[t._v(t._s("Export to CSV"))])])]),t._v(" "),e("h1",[t._v("\n\t\t"+t._s("Statistics")+"\n\t")]),t._v(" "),t._l(t.stats,function(n){return e("div",{key:n},[t._v("\n\t\t"+t._s(n)+"\n\t")])}),t._v(" "),e("div",{attrs:{id:"app-content"}},[e("transition-group",{staticClass:"table",attrs:{name:"list",tag:"div"}},[e("resultItem",{key:"0",attrs:{header:!0}}),t._v(" "),t._l(t.votes,function(n,o){return e("resultItem",{key:n.id,tag:"li",attrs:{vote:n},on:{viewResults:function(n){return t.viewFormResults(o,t.form.event,"results")}}})})],2),t._v(" "),t.loading?e("loading-overlay"):t._e(),t._v(" "),e("modal-dialog")],1)],2)};o._withStripped=!0;var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.header?e("div",{staticClass:"wrapper group-master table-row table-header"},[e("div",{staticClass:"wrapper group-1"},[e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s("Name")+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"question"},[t._v("\n\t\t\t\t"+t._s("Question #")+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"questionText"},[t._v("\n\t\t\t\t"+t._s("Question")+"\n\t\t\t")])])]),t._v(" "),e("div",{staticClass:"wrapper group-2"},[e("div",{staticClass:"ans"},[t._v("\n\t\t\t"+t._s("Response")+"\n\t\t")])])]):e("div",{staticClass:"wrapper table-row table-body group-master"},[e("div",{staticClass:"wrapper group-1"},[e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(t.participants)+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"question"},[t._v("\n\t\t\t\t"+t._s(t.questionNum)+"\n\t\t\t")])]),t._v(" "),e("div",{staticClass:"wrapper group-1-1"},[e("div",{staticClass:"questionText"},[t._v("\n\t\t\t\t"+t._s(t.questionText)+"\n\t\t\t")])])]),t._v(" "),e("div",{staticClass:"wrapper group-2"},[e("div",{staticClass:"ans"},[t._v("\n\t\t\t"+t._s(t.answers)+"\n\t\t")])])])};a._withStripped=!0;var i={props:{header:{type:Boolean,default:!1},form:{type:Object,default:void 0},vote:{type:Object,default:void 0}},data:function(){return{openedMenu:!1,hostName:this.$route.query.page}},computed:{participants:function(){return this.vote.userId},questionText:function(){return this.vote.voteOptionText},answers:function(){return this.vote.voteAnswer},questionNum:function(){return this.vote.voteOptionId}}},r=(e(204),e(1)),s=Object(r.a)(i,a,[],!1,null,null,null);s.options.__file="src/js/components/resultItem.vue";var p=s.exports,l=e(206),d=e.n(l),c={name:"Results",components:{resultItem:p},data:function(){return{loading:!0,votes:[]}},created:function(){this.indexPage=OC.generateUrl("apps/forms/"),this.loadForms()},methods:{loadForms:function(){var t=this;this.loading=!0,this.$http.get(OC.generateUrl("apps/forms/get/votes/"+this.$route.params.hash)).then(function(n){null==n.data?(t.votes=null,OC.Notification.showTemporary("Access Denied")):t.votes=n.data,t.loading=!1},function(n){console.log(n.response),t.loading=!1})},viewFormResults:function(t,n,e){this.$router.push({name:e,params:{hash:n.id}})},download:function(){var t=this;this.loading=!0,this.$http.get(OC.generateUrl("apps/forms/get/event/"+this.$route.params.hash)).then(function(n){t.json2csvParser=["userId","voteOptionId","voteOptionText","voteAnswer"];var e=document.createElement("a");e.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(d.a.parse(t.votes))),e.setAttribute("download",n.data.title+".csv"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),t.loading=!1},function(n){console.log(n.response),t.loading=!1})}},computed:{stats:function(){if(null!=this.votes){for(var t=[],n=[],e=new Map,o=0;o<this.votes.length;o++)"radiogroup"!==this.votes[o].voteOptionType&&"dropdown"!==this.votes[o].voteOptionType||(!1===t.includes(this.votes[o].voteAnswer)&&(t.push(this.votes[o].voteAnswer),e.set(this.votes[o].voteAnswer,this.votes[o].voteOptionId)),!1===n.includes(this.votes[o].voteOptionId)&&n.push(this.votes[o].voteOptionId));for(var a=[],i=0;i<t.length;i++)a[i]=0;for(var r=0;r<this.votes.length;r++)a[t.indexOf(this.votes[r].voteAnswer)]++;for(var s=0;s<a.length;s++)a[s]="Question "+e.get(t[s])+":  "+(a[s]/(this.votes.length/n.length)*100).toFixed(2)+"% of respondents voted for answer choice: "+t[s]}return a.sort()}}},u=(e(207),Object(r.a)(c,o,[],!1,null,null,null));u.options.__file="src/js/views/Results.vue";n.default=u.exports}}]);
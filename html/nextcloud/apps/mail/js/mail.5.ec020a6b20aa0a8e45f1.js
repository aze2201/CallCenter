(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{266:function(a,t,e){var n=e(314);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(258).default)("2f692375",n,!0,{})},267:function(a,t,e){var n=e(316);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(258).default)("4c364f61",n,!0,{})},313:function(a,t,e){"use strict";var n=e(266);e.n(n).a},314:function(a,t,e){(a.exports=e(257)(!1)).push([a.i,"\n.tabs-component-tabs {\n\tdisplay: flex;\n}\n.tabs-component-tab {\n\tflex-grow: 1;\n\tcolor: var(--color-text-lighter);\n\tfont-weight: bold;\n}\n.tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n}\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n",""])},315:function(a,t,e){"use strict";var n=e(267);e.n(n).a},316:function(a,t,e){(a.exports=e(257)(!1)).push([a.i,"\nh4[data-v-43d99f89] {\n\ttext-align: left;\n}\n.flex-row[data-v-43d99f89] {\n\tdisplay: flex;\n}\nlabel.button[data-v-43d99f89] {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\ninput[type='radio'][data-v-43d99f89] {\n\tdisplay: none;\n}\ninput[type='radio'][disabled] + label[data-v-43d99f89] {\n\tcursor: default;\n\topacity: 0.5;\n}\n",""])},364:function(a,t,e){var n=e(823);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,e(258).default)("b4f9faba",n,!0,{})},365:function(a,e,n){"use strict";n(73),n(20),n(74);var s=n(17),o=n(0),i=n.n(o),l=n(312),m=n(19);function r(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,n)}return e}function d(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(e,!0).forEach(function(t){Object(s.a)(a,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):r(e).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))})}return a}var u={name:"AccountForm",components:{Tab:l.Tab,Tabs:l.Tabs},props:{displayName:{type:String,default:""},email:{type:String,default:""},save:{type:Function,required:!0},account:{type:Object,required:!1,default:function(){}}},data:function(){var a=this,e=function(t,e){return i.a.isUndefined(a.account)?e:a.account[t]};return{loading:!1,mode:"auto",autoConfig:{accountName:this.displayName,emailAddress:this.email,password:""},manualConfig:{accountName:"",emailAddress:"",imapHost:e("imapHost",""),imapPort:e("imapPort",993),imapSslMode:e("imapSslMode","ssl"),imapUser:e("imapUser",""),imapPassword:"",smtpHost:e("smtpHost",""),smtpPort:e("smtpPort",587),smtpSslMode:e("smtpSslMode","tls"),smtpUser:e("smtpUser",""),smtpPassword:""},submitButtonText:this.account?t("mail","Save"):t("mail","Connect")}},computed:{settingsPage:function(){return!i.a.isUndefined(this.account)}},methods:{onModeChanged:function(a){this.mode=a.tab.id,"manual"===this.mode&&(""===this.manualConfig.accountName&&(this.manualConfig.accountName=this.autoConfig.accountName),""===this.manualConfig.emailAddress&&(this.manualConfig.emailAddress=this.autoConfig.emailAddress),""===this.manualConfig.imapUser&&(this.manualConfig.imapUser=this.autoConfig.emailAddress),""===this.manualConfig.imapPassword&&(this.manualConfig.imapPassword=this.autoConfig.password),""===this.manualConfig.smtpUser&&(this.manualConfig.smtpUser=this.autoConfig.emailAddress),""===this.manualConfig.smtpPassword&&(this.manualConfig.smtpPassword=this.autoConfig.password))},onImapSslModeChange:function(){switch(this.manualConfig.imapSslMode){case"none":case"tls":this.manualConfig.imapPort=143;break;case"ssl":this.manualConfig.imapPort=993}},onSmtpSslModeChange:function(){switch(this.manualConfig.smtpSslMode){case"none":case"tls":this.manualConfig.smtpPort=587;break;case"ssl":this.manualConfig.smtpPort=465}},saveChanges:function(){return"auto"===this.mode?this.save(d({autoDetect:!0},this.autoConfig)):this.save(d({autoDetect:!1},this.manualConfig))},onSubmit:function(){var a=this;this.loading=!0,this.saveChanges().catch(function(a){return m.a.error("could not save account details",{error:a})}).then(function(){return a.loading=!1})}}},p=(n(313),n(315),n(70)),c=Object(p.a)(u,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"account-form"}},[e("tabs",{attrs:{options:{useUrlFragment:!1,defaultTabHash:a.settingsPage?"manual":"auto"},"cache-lifetime":"0"},on:{changed:a.onModeChanged}},[e("tab",{key:"auto",attrs:{id:"auto",name:a.t("mail","Auto")}},[e("label",{attrs:{for:"auto-name"}},[a._v(a._s(a.t("mail","Name")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.accountName,expression:"autoConfig.accountName"}],attrs:{id:"auto-name",type:"text",placeholder:a.t("mail","Name"),disabled:a.loading,autofocus:""},domProps:{value:a.autoConfig.accountName},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"accountName",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"auto-address"}},[a._v(a._s(a.t("mail","Mail Address")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.emailAddress,expression:"autoConfig.emailAddress"}],attrs:{id:"auto-address",type:"email",placeholder:a.t("mail","Mail Address"),disabled:a.loading,required:""},domProps:{value:a.autoConfig.emailAddress},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"emailAddress",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"auto-password"}},[a._v(a._s(a.t("mail","Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.autoConfig.password,expression:"autoConfig.password"}],attrs:{id:"auto-password",type:"password",placeholder:a.t("mail","Password"),disabled:a.loading,required:""},domProps:{value:a.autoConfig.password},on:{input:function(t){t.target.composing||a.$set(a.autoConfig,"password",t.target.value)}}})]),a._v(" "),e("tab",{key:"manual",attrs:{id:"manual",name:a.t("mail","Manual")}},[e("label",{attrs:{for:"man-name"}},[a._v(a._s(a.t("mail","Name")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.accountName,expression:"manualConfig.accountName"}],attrs:{id:"man-name",type:"text",placeholder:a.t("mail","Name"),disabled:a.loading,autofocus:""},domProps:{value:a.manualConfig.accountName},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"accountName",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-address"}},[a._v(a._s(a.t("mail","Mail Address")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.emailAddress,expression:"manualConfig.emailAddress"}],attrs:{id:"man-address",type:"email",placeholder:a.t("mail","Mail Address"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.emailAddress},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"emailAddress",t.target.value)}}}),a._v(" "),e("h3",[a._v(a._s(a.t("mail","IMAP Settings")))]),a._v(" "),e("label",{attrs:{for:"man-imap-host"}},[a._v(a._s(a.t("mail","IMAP Host")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapHost,expression:"manualConfig.imapHost"}],attrs:{id:"man-imap-host",type:"text",placeholder:a.t("mail","IMAP Host"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapHost},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapHost",t.target.value)}}}),a._v(" "),e("h4",[a._v(a._s(a.t("mail","IMAP Security")))]),a._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-none",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"none"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"none")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","none")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"none"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-none"}},[a._v(a._s(a.t("mail","None")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-ssl",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"ssl"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"ssl")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","ssl")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-ssl"}},[a._v(a._s(a.t("mail","SSL/TLS")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-tls",type:"radio",name:"man-imap-sec",disabled:a.loading,value:"tls"},domProps:{checked:a._q(a.manualConfig.imapSslMode,"tls")},on:{change:[function(t){return a.$set(a.manualConfig,"imapSslMode","tls")},a.onImapSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===a.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-tls"}},[a._v(a._s(a.t("mail","STARTTLS")))])]),a._v(" "),e("label",{attrs:{for:"man-imap-port"}},[a._v(a._s(a.t("mail","IMAP Port")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapPort,expression:"manualConfig.imapPort"}],attrs:{id:"man-imap-port",type:"number",placeholder:a.t("mail","IMAP Port"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapPort},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapPort",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-imap-user"}},[a._v(a._s(a.t("mail","IMAP User")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapUser,expression:"manualConfig.imapUser"}],attrs:{id:"man-imap-user",type:"text",placeholder:a.t("mail","IMAP User"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapUser},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapUser",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-imap-password"}},[a._v(a._s(a.t("mail","IMAP Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.imapPassword,expression:"manualConfig.imapPassword"}],attrs:{id:"man-imap-password",type:"password",placeholder:a.t("mail","IMAP Password"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.imapPassword},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"imapPassword",t.target.value)}}}),a._v(" "),e("h3",[a._v(a._s(a.t("mail","SMTP Settings")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpHost,expression:"manualConfig.smtpHost"}],ref:"smtpHost",attrs:{type:"text",name:"smtp-host",placeholder:a.t("mail","SMTP Host"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpHost},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpHost",t.target.value)}}}),a._v(" "),e("h4",[a._v(a._s(a.t("mail","SMTP Security")))]),a._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-none",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"none"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"none")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","none")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"none"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-none"}},[a._v(a._s(a.t("mail","None")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-ssl",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"ssl"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"ssl")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","ssl")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-ssl"}},[a._v(a._s(a.t("mail","SSL/TLS")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-tls",type:"radio",name:"man-smtp-sec",disabled:a.loading,value:"tls"},domProps:{checked:a._q(a.manualConfig.smtpSslMode,"tls")},on:{change:[function(t){return a.$set(a.manualConfig,"smtpSslMode","tls")},a.onSmtpSslModeChange]}}),a._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===a.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-tls"}},[a._v(a._s(a.t("mail","STARTTLS")))])]),a._v(" "),e("label",{attrs:{for:"man-smtp-port"}},[a._v(a._s(a.t("mail","SMTP Port")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpPort,expression:"manualConfig.smtpPort"}],attrs:{id:"man-smtp-port",type:"number",placeholder:a.t("mail","SMTP Port"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpPort},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpPort",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-smtp-user"}},[a._v(a._s(a.t("mail","SMTP User")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpUser,expression:"manualConfig.smtpUser"}],attrs:{id:"man-smtp-user",type:"text",placeholder:a.t("mail","SMTP User"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpUser},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpUser",t.target.value)}}}),a._v(" "),e("label",{attrs:{for:"man-smtp-password"}},[a._v(a._s(a.t("mail","SMTP Password")))]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.manualConfig.smtpPassword,expression:"manualConfig.smtpPassword"}],attrs:{id:"man-smtp-password",type:"password",placeholder:a.t("mail","SMTP Password"),disabled:a.loading,required:""},domProps:{value:a.manualConfig.smtpPassword},on:{input:function(t){t.target.composing||a.$set(a.manualConfig,"smtpPassword",t.target.value)}}})])],1),a._v(" "),e("input",{staticClass:"primary",attrs:{type:"submit",disabled:a.loading},domProps:{value:a.submitButtonText},on:{click:a.onSubmit}})],1)},[],!1,null,"43d99f89",null);e.a=c.exports},822:function(a,t,e){"use strict";var n=e(364);e.n(n).a},823:function(a,t,e){(a.exports=e(257)(!1)).push([a.i,"\n#emptycontent {\n\tmargin-top: 10vh;\n}\n",""])},828:function(a,t,e){"use strict";e.r(t);var n=e(280),s=e.n(n),o={name:"Setup",components:{AccountForm:e(365).a,Content:s.a},computed:{displayName:function(){return $("#user-displayname").text()||""},email:function(){return $("#user-email").text()||""}},methods:{onSave:function(a){var t=this;return this.$store.dispatch("createAccount",a).then(function(a){return t.$router.push({name:"home"}),a})}}},i=(e(822),e(70)),l=Object(i.a)(o,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Content",{attrs:{"app-name":"mail"}},[e("div",{attrs:{id:"emptycontent"}},[e("div",{staticClass:"icon-mail"}),a._v(" "),e("h2",[a._v(a._s(a.t("mail","Connect your mail account")))]),a._v(" "),e("AccountForm",{attrs:{"display-name":a.displayName,email:a.email,save:a.onSave}})],1)])},[],!1,null,null,null);t.default=l.exports}}]);
//# sourceMappingURL=mail.5.ec020a6b20aa0a8e45f1.js.map